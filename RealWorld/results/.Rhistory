scale_y_discrete(expand = c(0, 0)) +
guides(fill = guide_legend(title = "Rank")) +
xlab('Labels') +
ylab('Record') +
theme_bw() +
theme(plot.title = element_text(vjust=0, size=8),
legend.box.margin=margin(0, 0, 0, -10),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black"),
axis.text.x = element_text(size=4),
axis.text.y = element_text(size=4),
axis.title = element_text(size=8),
legend.title = element_text(size = 6),
legend.text  = element_text(size = 4))
plot
plot <- subset[selection,votinglist] %>%
rownames_to_column() %>%
gather("lambda", "rank", -rowname) %>%
mutate(rank = as.numeric(rank)) %>%
ggplot(aes(y=rowname, x=lambda, fill=rank)) +
geom_tile(color="white") +
#scale_fill_steps(low = "white", high = "black") +
scale_fill_gradient2(low = "white", high = "purple",
aesthetics = "fill",
#breaks = c(0,5,10,15,20,25),
limits = c(0,40)) +
#metR::scale_fill_discretised() +
scale_x_discrete(labels = as.character(c(1:37))) +
scale_y_discrete(expand = c(0, 0)) +
guides(fill = guide_legend(title = "Rank")) +
xlab('Labels') +
ylab('Record') +
theme_bw() +
theme(plot.title = element_text(vjust=0, size=8),
legend.box.margin=margin(0, 0, 0, -10),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black"),
axis.text.x = element_text(size=4),
axis.text.y = element_text(size=4),
axis.title = element_text(size=8),
legend.title = element_text(size = 6),
legend.text  = element_text(size = 4))
plot
plot <- subset[selection,votinglist] %>%
rownames_to_column() %>%
gather("lambda", "rank", -rowname) %>%
mutate(rank = as.numeric(rank)) %>%
ggplot(aes(y=rowname, x=lambda, fill=rank)) +
geom_tile(color="white") +
#scale_fill_steps(low = "white", high = "black") +
scale_fill_gradient2(low = "white", high = "purple",
aesthetics = "fill",
#breaks = c(0,5,10,15,20,25),
limits = c(0,40)) +
#metR::scale_fill_discretised() +
scale_x_discrete(labels = as.character(c(1:37))) +
scale_y_discrete(expand = c(0, 0)) +
guides(fill = guide_legend(title = "Rank")) +
xlab('Labels') +
ylab('Record') +
theme_bw() +
theme(plot.title = element_text(vjust=0, size=8),
legend.box.margin=margin(0, 0, 0, -30),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black"),
axis.text.x = element_text(size=4),
axis.text.y = element_text(size=4),
axis.title = element_text(size=8),
legend.title = element_text(size = 6),
legend.text  = element_text(size = 4))
plot
plot <- subset[selection,votinglist] %>%
rownames_to_column() %>%
gather("lambda", "rank", -rowname) %>%
mutate(rank = as.numeric(rank)) %>%
ggplot(aes(y=rowname, x=lambda, fill=rank)) +
geom_tile(color="white") +
scale_fill_steps(low = "white", high = "black") +
#scale_fill_gradient2(low = "white", high = "purple",
#                     aesthetics = "fill",
#                     #breaks = c(0,5,10,15,20,25),
#                     limits = c(0,40)) +
#metR::scale_fill_discretised() +
scale_x_discrete(labels = as.character(c(1:37))) +
scale_y_discrete(expand = c(0, 0)) +
guides(fill = guide_legend(title = "Rank")) +
xlab('Labels') +
ylab('Record') +
theme_bw() +
theme(plot.title = element_text(vjust=0, size=8),
legend.box.margin=margin(0, 0, 0, -10),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black"),
axis.text.x = element_text(size=4),
axis.text.y = element_text(size=4),
axis.title = element_text(size=8),
legend.title = element_text(size = 6),
legend.text  = element_text(size = 4))
plot
plot <- subset[selection,votinglist] %>%
rownames_to_column() %>%
gather("lambda", "rank", -rowname) %>%
mutate(rank = as.numeric(rank)) %>%
ggplot(aes(y=rowname, x=lambda, fill=rank)) +
geom_tile(color="white") +
scale_fill_steps(low = "white", high = "black", limits = c(0,40)) +
#scale_fill_gradient2(low = "white", high = "purple",
#                     aesthetics = "fill",
#                     #breaks = c(0,5,10,15,20,25),
#                     limits = c(0,40)) +
#metR::scale_fill_discretised() +
scale_x_discrete(labels = as.character(c(1:37))) +
scale_y_discrete(expand = c(0, 0)) +
guides(fill = guide_legend(title = "Rank")) +
xlab('Labels') +
ylab('Record') +
theme_bw() +
theme(plot.title = element_text(vjust=0, size=8),
legend.box.margin=margin(0, 0, 0, -10),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black"),
axis.text.x = element_text(size=4),
axis.text.y = element_text(size=4),
axis.title = element_text(size=8),
legend.title = element_text(size = 6),
legend.text  = element_text(size = 4))
plot
plot <- subset[selection,votinglist] %>%
rownames_to_column() %>%
gather("lambda", "rank", -rowname) %>%
mutate(rank = as.numeric(rank)) %>%
ggplot(aes(y=rowname, x=lambda, fill=rank)) +
geom_tile(color="white") +
scale_fill_steps(low = "white", high = "black", limits = c(0,40)) +
#scale_fill_gradient2(low = "white", high = "purple",
#                     aesthetics = "fill",
#                     #breaks = c(0,5,10,15,20,25),
#                     limits = c(0,40)) +
#metR::scale_fill_discretised() +
scale_x_discrete(labels = as.character(c(1:37))) +
scale_y_discrete(expand = c(0, 0)) +
guides(fill = guide_colorbar(barwidth = 0.4)) +
guides(fill = guide_legend(title = "Rank")) +
xlab('Labels') +
ylab('Record') +
theme_bw() +
theme(plot.title = element_text(vjust=0, size=8),
legend.box.margin=margin(0, 0, 0, -10),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black"),
axis.text.x = element_text(size=4),
axis.text.y = element_text(size=4),
axis.title = element_text(size=8),
legend.title = element_text(size = 6),
legend.text  = element_text(size = 4))
plot
plot <- subset[selection,votinglist] %>%
rownames_to_column() %>%
gather("lambda", "rank", -rowname) %>%
mutate(rank = as.numeric(rank)) %>%
ggplot(aes(y=rowname, x=lambda, fill=rank)) +
geom_tile(color="white") +
scale_fill_steps(low = "white", high = "black", limits = c(0,40)) +
#scale_fill_gradient2(low = "white", high = "purple",
#                     aesthetics = "fill",
#                     #breaks = c(0,5,10,15,20,25),
#                     limits = c(0,40)) +
#metR::scale_fill_discretised() +
scale_x_discrete(labels = as.character(c(1:37))) +
scale_y_discrete(expand = c(0, 0)) +
guides(fill = guide_colorbar(barwidth = 0.4)) +
#guides(fill = guide_legend(title = "Rank")) +
xlab('Labels') +
ylab('Record') +
theme_bw() +
theme(plot.title = element_text(vjust=0, size=8),
legend.box.margin=margin(0, 0, 0, -10),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black"),
axis.text.x = element_text(size=4),
axis.text.y = element_text(size=4),
axis.title = element_text(size=8),
legend.title = element_text(size = 6),
legend.text  = element_text(size = 4))
plot
plot <- subset[selection,votinglist] %>%
rownames_to_column() %>%
gather("lambda", "rank", -rowname) %>%
mutate(rank = as.numeric(rank)) %>%
ggplot(aes(y=rowname, x=lambda, fill=rank)) +
geom_tile(color="white") +
scale_fill_steps(low = "white", high = "#b2df8a", limits = c(0,40)) +
#scale_fill_gradient2(low = "white", high = "purple",
#                     aesthetics = "fill",
#                     #breaks = c(0,5,10,15,20,25),
#                     limits = c(0,40)) +
#metR::scale_fill_discretised() +
scale_x_discrete(labels = as.character(c(1:37))) +
scale_y_discrete(expand = c(0, 0)) +
guides(fill = guide_colorbar(barwidth = 0.4)) +
#guides(fill = guide_legend(title = "Rank")) +
xlab('Labels') +
ylab('Record') +
theme_bw() +
theme(plot.title = element_text(vjust=0, size=8),
legend.box.margin=margin(0, 0, 0, -10),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black"),
axis.text.x = element_text(size=4),
axis.text.y = element_text(size=4),
axis.title = element_text(size=8),
legend.title = element_text(size = 6),
legend.text  = element_text(size = 4))
plot
name <- paste0("subgroup1noneaverage.pdf", "")
ggsave(name, width = 10, height = 3, units = "cm")
plot <- subset[selection,votinglist] %>%
rownames_to_column() %>%
gather("lambda", "rank", -rowname) %>%
mutate(rank = as.numeric(rank)) %>%
ggplot(aes(y=rowname, x=lambda, fill=rank)) +
geom_tile(color="white") +
scale_fill_steps(low = "white", high = "#b2df8a", limits = c(0,40)) +
#scale_fill_gradient2(low = "white", high = "purple",
#                     aesthetics = "fill",
#                     #breaks = c(0,5,10,15,20,25),
#                     limits = c(0,40)) +
#metR::scale_fill_discretised() +
scale_x_discrete(labels = as.character(c(1:37))) +
scale_y_discrete(expand = c(0, 0)) +
guides(fill = guide_colorbar(barwidth = 0.4)) +
#guides(fill = guide_legend(title = "Rank")) +
xlab('Labels') +
ylab('Record') +
theme_bw() +
theme(plot.title = element_text(vjust=0, size=8),
legend.box.margin=margin(0, 0, 0, -10),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black"),
axis.text.x = element_text(size=4),
axis.text.y = element_text(size=4),
axis.title = element_text(size=6),
legend.title = element_text(size = 4),
legend.text  = element_text(size = 2))
plot
name <- paste0("subgroup1noneaverage.pdf", "")
ggsave(name, width = 10, height = 3, units = "cm")
plot <- subset[selection,votinglist] %>%
rownames_to_column() %>%
gather("lambda", "rank", -rowname) %>%
mutate(rank = as.numeric(rank)) %>%
ggplot(aes(y=rowname, x=lambda, fill=rank)) +
geom_tile(color="white") +
scale_fill_steps(low = "white", high = "#b2df8a", limits = c(0,40)) +
#scale_fill_gradient2(low = "white", high = "purple",
#                     aesthetics = "fill",
#                     #breaks = c(0,5,10,15,20,25),
#                     limits = c(0,40)) +
#metR::scale_fill_discretised() +
scale_x_discrete(labels = as.character(c(1:37))) +
scale_y_discrete(expand = c(0, 0)) +
guides(fill = guide_colorbar(barwidth = 0.4, barheight=1)) +
#guides(fill = guide_legend(title = "Rank")) +
xlab('Labels') +
ylab('Record') +
theme_bw() +
theme(plot.title = element_text(vjust=0, size=8),
legend.box.margin=margin(0, 0, 0, -10),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black"),
axis.text.x = element_text(size=4),
axis.text.y = element_text(size=4),
axis.title = element_text(size=6),
legend.title = element_text(size = 4),
legend.text  = element_text(size = 2))
plot
plot <- subset[selection,votinglist] %>%
rownames_to_column() %>%
gather("lambda", "rank", -rowname) %>%
mutate(rank = as.numeric(rank)) %>%
ggplot(aes(y=rowname, x=lambda, fill=rank)) +
geom_tile(color="white") +
scale_fill_steps(low = "white", high = "#b2df8a", limits = c(0,40)) +
#scale_fill_gradient2(low = "white", high = "purple",
#                     aesthetics = "fill",
#                     #breaks = c(0,5,10,15,20,25),
#                     limits = c(0,40)) +
#metR::scale_fill_discretised() +
scale_x_discrete(labels = as.character(c(1:37))) +
scale_y_discrete(expand = c(0, 0)) +
guides(fill = guide_colorbar(barwidth = 0.4, barheight=3)) +
#guides(fill = guide_legend(title = "Rank")) +
xlab('Labels') +
ylab('Record') +
theme_bw() +
theme(plot.title = element_text(vjust=0, size=8),
legend.box.margin=margin(0, 0, 0, -10),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black"),
axis.text.x = element_text(size=4),
axis.text.y = element_text(size=4),
axis.title = element_text(size=6),
legend.title = element_text(size = 4),
legend.text  = element_text(size = 2))
plot
name <- paste0("subgroup1noneaverage.pdf", "")
ggsave(name, width = 10, height = 3, units = "cm")
plot <- subset[selection,votinglist] %>%
rownames_to_column() %>%
gather("lambda", "rank", -rowname) %>%
mutate(rank = as.numeric(rank)) %>%
ggplot(aes(y=rowname, x=lambda, fill=rank)) +
geom_tile(color="white") +
scale_fill_steps(low = "white", high = "#b2df8a", limits = c(0,40)) +
#scale_fill_gradient2(low = "white", high = "purple",
#                     aesthetics = "fill",
#                     #breaks = c(0,5,10,15,20,25),
#                     limits = c(0,40)) +
#metR::scale_fill_discretised() +
scale_x_discrete(labels = as.character(c(1:37))) +
scale_y_discrete(expand = c(0, 0)) +
guides(fill = guide_colorbar(barwidth = 0.4, barheight=3)) +
#guides(fill = guide_legend(title = "Rank")) +
xlab('Labels') +
ylab('Record') +
theme_bw() +
theme(plot.title = element_text(vjust=0, size=8),
legend.box.margin=margin(0, 0, 0, -10),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black"),
axis.text.x = element_text(size=4),
axis.text.y = element_text(size=4),
axis.title = element_text(size=6),
legend.title = element_text(size = 4),
legend.text  = element_text(size = 4))
plot
name <- paste0("subgroup1noneaverage.pdf", "")
ggsave(name, width = 10, height = 3, units = "cm")
# overall plot
plot <- plotdata %>%
#filter(correction %in% c("none", "entropy", "sqrtnN")) %>%
filter(correction %in% c("labelwise", "pairwise", "norm")) %>%
ggplot(aes(y=sg, x=lambda, fill=rank)) +
geom_tile(color="white") +
facet_grid(comparison ~ correction,
#labeller = label_both) +
labeller = labeller(correction =
c("norm" = "type: norm",
"labelwise" = "type: labelwise",
"pairwise" = "type: pairwise"),
comparison =
c("average" = "comparison: average"))) +
scale_colour_gradient2(low = "#a63603", mid = "white",
high = "#1f78b4", midpoint = 0,
aesthetics = "fill",
limits=c(-10, 10)) +
scale_x_discrete(labels = as.character(c(1:37))) +
scale_y_continuous(expand = c(0, 0)) +
guides(fill = guide_colorbar(barwidth = 3, barheight = 0.5)) +
xlab('Labels') +
ylab('Subgroup') +
#ylab("Subgroup                                        Complement                                        Subgroup") +
theme_bw() +
theme(plot.title = element_text(vjust=-4),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black"),
axis.text.x = element_text(size=4),
axis.title = element_text(size=10),
legend.title = element_blank(),#element_text(size = 6),
legend.text  = element_text(size = 4),
legend.position="bottom",
legend.justification="right",
legend.margin=margin(-20, 0, 0, 0))
plot
name <- paste('otherqms.pdf', sep = "", collapse = NULL)
ggsave(name, width = 20, height = 7, units = "cm")
# overall plot
plot <- plotdata %>%
filter(correction %in% c("none", "entropy", "sqrtnN")) %>%
#filter(correction %in% c("labelwise", "pairwise", "norm")) %>%
ggplot(aes(y=sg, x=lambda, fill=rank)) +
geom_tile(color="white") +
facet_grid(comparison ~ correction,
labeller = label_both) +
#labeller = labeller(correction =
#            c("norm" = "type: norm",
#              "labelwise" = "type: labelwise",
#              "pairwise" = "type: pairwise"),
#            comparison =
#              c("average" = "comparison: average"))) +
scale_colour_gradient2(low = "#a63603", mid = "white",
high = "#1f78b4", midpoint = 0,
aesthetics = "fill",
limits=c(-10, 10)) +
scale_x_discrete(labels = as.character(c(1:37))) +
scale_y_continuous(expand = c(0, 0)) +
guides(fill = guide_colorbar(barwidth = 3, barheight = 0.5)) +
xlab('Labels') +
ylab('Subgroup') +
#ylab("Subgroup                                        Complement                                        Subgroup") +
theme_bw() +
theme(plot.title = element_text(vjust=-4),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black"),
axis.text.x = element_text(size=4),
axis.title = element_text(size=10),
legend.title = element_blank(),#element_text(size = 6),
legend.text  = element_text(size = 4),
legend.position="bottom",
legend.justification="right",
legend.margin=margin(-20, 0, 0, 0))
plot
name <- paste('ourqms.pdf', sep = "", collapse = NULL)
ggsave(name, width = 20, height = 18, units = "cm")
# overall plot
plot <- plotdata %>%
filter(correction %in% c("none", "entropy", "sqrtnN")) %>%
#filter(correction %in% c("labelwise", "pairwise", "norm")) %>%
ggplot(aes(y=sg, x=lambda, fill=rank)) +
geom_tile(color="white") +
facet_grid(comparison ~ correction,
labeller = label_both) +
#labeller = labeller(correction =
#            c("norm" = "type: norm",
#              "labelwise" = "type: labelwise",
#              "pairwise" = "type: pairwise"),
#            comparison =
#              c("average" = "comparison: average"))) +
scale_colour_gradient2(low = "#a63603", mid = "white",
high = "#1f78b4", midpoint = 0,
aesthetics = "fill",
limits=c(-10, 10)) +
scale_x_discrete(labels = as.character(c(1:37))) +
scale_y_continuous(expand = c(0, 0)) +
guides(fill = guide_colorbar(barwidth = 3, barheight = 0.5)) +
xlab('Labels') +
#ylab('Subgroup') +
ylab("Subgroup                                        Complement                                        Subgroup") +
theme_bw() +
theme(plot.title = element_text(vjust=-4),
panel.grid.major.x = element_blank(),
panel.grid.minor.x = element_blank(),
panel.grid.major.y = element_blank(),
panel.grid.minor.y = element_blank(),
panel.border = element_blank(),
axis.line = element_line(colour = "black"),
axis.text.x = element_text(size=4),
axis.title = element_text(size=10),
legend.title = element_blank(),#element_text(size = 6),
legend.text  = element_text(size = 4),
legend.position="bottom",
legend.justification="right",
legend.margin=margin(-20, 0, 0, 0))
plot
name <- paste('ourqms.pdf', sep = "", collapse = NULL)
ggsave(name, width = 20, height = 18, units = "cm")
